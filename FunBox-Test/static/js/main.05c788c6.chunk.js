(window["webpackJsonpfun-box"]=window["webpackJsonpfun-box"]||[]).push([[0],{193:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAtQAAALUBOdDOnwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAMlSURBVEiJlZaxjhxFEIa/6pndvd31XkKAiJCwz5bJHYAtI5lXwGdZ1llyxCuYJwAHRMQIVkbwABBYcmDJCU9wZwmRg4nY4+a4mZ2pn2B6Zmfn5k6ik+7q6a76/79qSm2fPXnycSB9ZnBbwuSOAHfHJZDwuCd3JOESkpALIdyjLUcCd5fgVenV0zSQPvu0LO7cys+weBEJuUNctza103qvdkY819yjBmav0/G9X8aTL9Ng4fatImch33bWd35p4E6gaN8tzvg5ndwLSGZSfaiLpGs3o7uGzbc4d22r+Vqq/uX/M/fXXWAAgnAOwRD6Ro6Lvg2waeYg1ZXQR3BixlsLl7MA/giBf+iNTtCgPoI4TjC+2bnCm5AMo5c4DAlf7yz4s9qUdPesJEK92dNR4t2q5FGe8Xw85ygdnUN/lIz4bucK+9mKd7ziuCyp+nmhl4MNw9q+Wa45yDOW4xlH6bg9d5iM+HYy40G24tq6wKLj06rCm7KN0tdV1EPfRXGzLHjsznI848ArJPh+NOXB6YqrRY7Fcwa4RAbMADAkSPvaD1XHh2XBgTvLyRy52M9WXIvOG/TWSfC/VUWVpDEHA063qqHda/qNAGGNUwkza4OYBGYUVQU0DLrZH6iGw5CynMy4f7LCJH6aLnjoYq84w8ywqLs1wdyBOmi4FH2sluXOnP1sxd46Z2+d8zA75sfpgt/T0ZZELaNNqyC0Agygf5PUyPezFVfXRevg+jrnUbbih9kuv6Wj1nkjUSsVF5QpEm9DwnI85/7pMR9E5+1lM65Xaw5Oj3k+3eWvkGyYdNhIkA41LElM5TzO/ua9ddFebKsl2jeKnM+riln00Sa+o0q61eA6bHbl3JBv+kxMoHWcYcb7Vbmdh5hko2kVjf5dqeKcAIsQCB19WzYN4p40XZYQu+lQaTbrAMzNYrLYTmg3sWbnEg0iSDHWBSwAghmzLpM++h67hqGEUkyvfx2NP/moyEEOZtF3g6EZhoeEPP6hhoEZRvyzaX4uh5DwajTBzF6mpfT0RTr+6kUyuetyQ5tniXt9eeBZguILo33GxL14VsDLUv7Ff8clN+QOU7faAAAAAElFTkSuQmCC"},199:function(e,n,t){e.exports=t(456)},204:function(e,n,t){},223:function(e,n,t){},261:function(e,n,t){},456:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(41),i=t.n(a),c=(t(204),t(15)),s=t(189),d=t(114),l=t(190),u=t(191).create({baseURL:"https://maps.googleapis.com/maps/api/geocode/"}),p=function(e){return u.get("/json?address=".concat(e,"&key=AIzaSyDFIeLcSXFoj1sjauT3e9I3V2p0P_hHAgk")).then(function(e){return e.data})};function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(t,!0).forEach(function(n){Object(l.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var g={items:[],correspondCoordinates:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_ITEM":var t=n.content,r=n.key;return m({},e,{items:[].concat(Object(d.a)(e.items),[{key:r,text:t}])});case"DELETE_ITEM":var o=n.key,a=e.items.filter(function(e){return e.key!==o}),i=e.correspondCoordinates.filter(function(e){return e.key!==o});return m({},e,{items:a,correspondCoordinates:i});case"HANDLE_DRAG_AND_DROP":var c=n.result,s=c.destination,l=c.source,u=c.draggableId;if(!s)return e;if(s.droppableId===l.droppableId&&s.index===l.index)return e;for(var p=[],f=0;f<e.items.length;f+=1)p[f]=e.items[f].key;p.splice(l.index,1),p.splice(s.index,0,u);for(var y=p,k=[],A=[],C=function(n){var t=y[n],r=e.items.findIndex(function(e){return e.key===t}),o=e.correspondCoordinates.findIndex(function(e){return e.key===t});k[n]=e.items[r],A[n]=e.correspondCoordinates[o]},E=0;E<y.length;E+=1)C(E);return m({},e,{items:k,correspondCoordinates:A});case"CALCULATE_COORDINATES":var h=n.key,O=n.coordinates;return m({},e,{correspondCoordinates:[].concat(Object(d.a)(e.correspondCoordinates),[{key:h,coordinates:O}])});case"CHANGE_COORDINATES":for(var v=n.key,b=n.lat,w=n.lng,I=e.items.findIndex(function(e){return e.key===v}),D=[],j=0;j<e.correspondCoordinates.length;j+=1)j===I&&(e.correspondCoordinates[j]={key:v,coordinates:{lat:b,lng:w}}),D[j]=e.correspondCoordinates[j];return m({},e,{correspondCoordinates:D});case"ON_MARKER_CLICK":for(var N=n.key,_=e.items.findIndex(function(e){return e.key===N}),L=[],M=0;M<e.correspondCoordinates.length;M+=1)M===_&&(e.correspondCoordinates[M]={key:N,coordinates:{lat:e.correspondCoordinates[M].coordinates.lat,lng:e.correspondCoordinates[M].coordinates.lng},text:e.items[M].text,open:!0}),L[M]=e.correspondCoordinates[M];return m({},e,{correspondCoordinates:L});case"ON_CLOSE_INFO_WINDOW":for(var R=n.key,S=e.items.findIndex(function(e){return e.key===R}),P=[],T=0;T<e.correspondCoordinates.length;T+=1)T===S&&(e.correspondCoordinates[T]={key:R,coordinates:{lat:e.correspondCoordinates[T].coordinates.lat,lng:e.correspondCoordinates[T].coordinates.lng},text:null,open:!1}),P[T]=e.correspondCoordinates[T];return m({},e,{correspondCoordinates:P});default:return e}},k=Object(c.c)({map:y}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,C=Object(c.e)(k,A(Object(c.a)(s.a)));window.store=C;var E=C,h=t(77),O=t(78),v=t(83),b=t(79),w=t(82),I=t(42),D=(t(223),t(193)),j=t.n(D),N=t(44),_=function(e){function n(e){var t;return Object(h.a)(this,n),(t=Object(v.a)(this,Object(b.a)(n).call(this,e))).createTasks=t.createTasks.bind(Object(I.a)(t)),t}return Object(w.a)(n,e),Object(O.a)(n,[{key:"delete",value:function(e){this.props.delete(e)}},{key:"createTasks",value:function(e,n){var t=this;return o.a.createElement(N.b,{key:e.key,draggableId:e.key,index:n},function(n){return o.a.createElement("li",Object.assign({},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,className:"list__item",key:e.key}),e.text,o.a.createElement("img",{className:"list__item-image",src:j.a,alt:"Delete Icon",onClick:function(){return t.delete(e.key)}}))})}},{key:"render",value:function(){var e=this,n=this.props.entries.map(function(n,t){return e.createTasks(n,t)});return o.a.createElement(N.c,{droppableId:"MapItems"},function(e){return o.a.createElement("ul",Object.assign({ref:e.innerRef},e.dropppableProps,{className:"list"}),n,e.placeholder)})}}]),n}(r.Component),L=(t(261),t(76)),M=t(85),R=t(32),S=Object(M.a)(Object(M.c)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDFIeLcSXFoj1sjauT3e9I3V2p0P_hHAgk",loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{height:"100%"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})}),Object(M.b)(function(){var e=[];return{markerRef:function(){return function(n){if(n){var t=n.props.id;e[t]=n}}},onMarkerDrag:function(n){return function(t){var r=e[t].getPosition().lat(),o=e[t].getPosition().lng();n.changeCoordinates(t,r,o)}},onMarkerClick:function(e){return function(n){e.onMarkerClick(n)}},onCloseInfoWindow:function(e){return function(n){e.onCloseInfoWindow(n)}}}}),R.withScriptjs,R.withGoogleMap)(function(e){for(var n=[],t=0;t<e.correspondCoordinates.length;t+=1)n[t]={lat:e.correspondCoordinates[t].coordinates.lat,lng:e.correspondCoordinates[t].coordinates.lng};return console.log(e),o.a.createElement(R.GoogleMap,{defaultZoom:8,defaultCenter:{lat:55.751244,lng:37.618423}},e.correspondCoordinates.map(function(n){return o.a.createElement(R.Marker,{position:{lat:n.coordinates.lat,lng:n.coordinates.lng},key:n.key,id:n.key,draggable:!0,ref:e.markerRef,onDrag:function(){return e.onMarkerDrag(n.key)},onClick:function(){return e.onMarkerClick(n.key)}}," ",n.open&&o.a.createElement(R.InfoWindow,{onCloseClick:function(){return e.onCloseInfoWindow(n.key)}},o.a.createElement("div",null,n.text)))}),o.a.createElement(R.Polyline,{path:n,geodesic:!0,options:{strokeColor:"#ff2527",strokeOpacity:.75,strokeWeight:2}}))}),P=function(e){function n(){var e,t;Object(h.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=Object(v.a)(this,(e=Object(b.a)(n)).call.apply(e,[this].concat(o)))).onDragEnd=function(e){t.props.handleDragAndDrop(e)},t}return Object(w.a)(n,e),Object(O.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement(N.a,{onDragEnd:this.onDragEnd},o.a.createElement("div",{className:"map"},o.a.createElement("div",{className:"map_title"},"\u0412\u0432\u043e\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430, \u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0433\u043e\u0440\u043e\u0434\u0430. \u041f\u0440\u0438\u043c\u0435\u0440: \u041c\u043e\u0441\u043a\u0432\u0430 \u0422\u0432\u0435\u0440\u0441\u043a\u0430\u044f 12"),o.a.createElement("div",{className:"map__container"},o.a.createElement("div",{className:"map__list-container"},o.a.createElement("form",{onSubmit:function(n){var t=Date.now();e.props.addItem(t,e._inputElement.value);var r=e._inputElement.value.split(" ").join("+");e.props.getCoordinates(t,r),e._inputElement.value="",n.preventDefault()}},o.a.createElement("input",{className:"map__input",ref:function(n){return e._inputElement=n},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441"})),o.a.createElement(_,{entries:this.props.items,delete:this.props.deleteItem})),o.a.createElement("div",{className:"map__map-image-container"},o.a.createElement(S,{changeCoordinates:this.props.changeCoordinates,correspondCoordinates:this.props.correspondCoordinates,onMarkerClick:this.props.onMarkerClick,onCloseInfoWindow:this.props.onCloseInfoWindow})))))}}]),n}(r.Component),T=Object(L.a)(function(e){return{items:e.map.items,correspondCoordinates:e.map.correspondCoordinates}},{addItem:function(e,n){return{type:"ADD_ITEM",key:e,content:n}},deleteItem:function(e){return{type:"DELETE_ITEM",key:e}},handleDragAndDrop:function(e){return{type:"HANDLE_DRAG_AND_DROP",result:e}},getCoordinates:function(e,n){return function(t){p(n).then(function(n){var r=n.results[0].geometry.location;t(function(e,n){return{type:"CALCULATE_COORDINATES",key:e,coordinates:n}}(e,r))})}},changeCoordinates:function(e,n,t){return{type:"CHANGE_COORDINATES",key:e,lat:n,lng:t}},onMarkerClick:function(e){return{type:"ON_MARKER_CLICK",key:e}},onCloseInfoWindow:function(e){return{type:"ON_CLOSE_INFO_WINDOW",key:e}}})(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=t(74);i.a.render(o.a.createElement(x.a,{store:E},o.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[199,1,2]]]);
//# sourceMappingURL=main.05c788c6.chunk.js.map